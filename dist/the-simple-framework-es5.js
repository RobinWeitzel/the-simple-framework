!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.TSF=e():t.TSF=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}function c(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e),n.d(e,"Repository",(function(){return p})),n.d(e,"Component",(function(){return y})),n.d(e,"init",(function(){return b})),Object.setPrototypeOf(u.prototype,HTMLElement.prototype),Object.setPrototypeOf(u,HTMLElement),n(1);var p=function(){function t(){s(this,t)}return h(t,null,[{key:"registerComponent",value:function(e){t.classes.set(e.name,e)}},{key:"getClass",value:function(e){return t.classes.get(e)}},{key:"afterLoad",value:function(){}},{key:"getRelevantChildren",value:function(e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e.children[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;n.push(u),u.nodeName.startsWith("TSF-")||0!==Array.from(u.attributes).filter((function(t){var e=t.name;t.value;return"tsf-for-of"===e})).length||n.push.apply(n,c(t.getRelevantChildren(u)))}}catch(t){o=!0,i=t}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}},{key:"getCustomElements",value:function(e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e.children[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;u.nodeName.startsWith("TSF-")&&n.push(u),n.push.apply(n,c(t.getCustomElements(u)))}}catch(t){o=!0,i=t}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}}]),t}();d(p,"classes",new Map);var v=function(){function t(){s(this,t),this._jsChange={},this._domChange={}}return h(t,[{key:"registerJsChangeListener",value:function(t,e){var n=this._jsChange[t]||function(){};this._jsChange[t]=function(){n.apply(void 0,arguments),e.apply(void 0,arguments)}}},{key:"registerDomChangeListener",value:function(t,e){var n=this._domChange[t]||function(){};this._domChange[t]=function(){n.apply(void 0,arguments),e.apply(void 0,arguments)}}},{key:"overwriteJsChangeListener",value:function(t,e){this._jsChange[t]=e}},{key:"overwriteDomChangeListener",value:function(t,e){this._domChange[t]=e}}],[{key:"compare",value:function(e,n){if(void 0===e&&void 0===n)return!0;if(null===e&&null===n)return!0;try{var r=e.constructor.name;return r===n.constructor.name&&(t.comparisons[r]?t.comparisons[r](e,n):JSON.stringify(e)===JSON.stringify(n))}catch(t){return!1}}},{key:"registerComparison",value:function(e,n){t.comparisons[e]=n}},{key:"generateProxies",value:function(e,n,r){if(!r||["Object","Array"].indexOf(r.constructor.name)<0)return r;for(var o=0,i=Object.keys(r);o<i.length;o++){var a=i[o];r[a]=t.generateProxies(e,n,r[a])}return r=new Proxy(r,t.handler(e,n))}},{key:"handler",value:function(e,n){return{get:function(t,e){return e in t?t[e]:""},set:function(r,o,i){return i=t.generateProxies(r,o,i),!!t.compare(r[o],i)||(r[o]=i,e?n in e._domChange&&e._domChange[n](e[n]):o in r._domChange&&r._domChange[o](i),!0)},deleteProperty:function(t,r){return e?n in e._domChange&&e._domChange[n](t):r in t._domChange&&t._domChange[r](null),!0}}}}]),t}();d(v,"comparisons",{});var y=function(t){function e(){var t;s(this,e),(t=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?a(t):e}(this,i(e).call(this))).state=new Proxy(new v,v.handler());for(var n=Object.keys(t.parentNode),o=t.querySelectorAll("*"),l=0,u=n;l<u.length;l++){var c=u[l],f=t.parentNode[c];t[c]=t[c]||f;var h=!0,d=!1,p=void 0;try{for(var y,m=o[Symbol.iterator]();!(h=(y=m.next()).done);h=!0){var b=y.value;o[c]=b[c]||f}}catch(t){d=!0,p=t}finally{try{h||null==m.return||m.return()}finally{if(d)throw p}}}return"none"!==window.getComputedStyle(a(t))&&t.onShow(),t.attachBindings(a(t)),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),h(e,[{key:"onShow",value:function(){}},{key:"eval",value:function(t,e,n){for(var r,o,i=t,a=[],l=[],u=[],c=/this\.(.[a-zA-Z|_]+)/g,s=/local\.(.[a-zA-Z|_|\:]+)/g;null!==(r=c.exec(t));)l.push(r[1]);for(;null!==(r=s.exec(t));)u.push(r[1]);for(var f=0,h=l;f<h.length;f++){var d=h[f];a.push(this.state[d]),i=i.replace("this."+d,"args[".concat(a.length-1,"]"))}for(var p=0,v=u;p<v.length;p++){var y=v[p],m=y.endsWith(":index");if(m&&(y=y.replace(":index","")),e[y]&&2===e[y].length){var b=e[y][0],g=e[y][1];m?i=i.replace("local."+y+":index",b):(a.push(g[b]),i=i.replace("local."+y,"args[".concat(a.length-1,"]")))}else i=i.replace("local."+y,"")}try{o=window.eval.call(window,"(function (args) {return "+i+"})")(a)}catch(t){o=""}return n?[o,l,u]:o}},{key:"attachBindings",value:function(t){var e=this,n=p.getRelevantChildren(t),r=!0,i=!1,a=void 0;try{for(var l,u=function(){var t,n=l.value,r=n.getAttribute("tsf-if"),i=n.getAttribute("tsf-if-display")||"block",a=void 0,u=o(e.eval(r,n,!0),3);if(t=u[0],a=u[1],u[2],t){n.style.display=i,n.onShow&&n.onShow();var c=!0,s=!1,f=void 0;try{for(var h,d=p.getCustomElements(n)[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){h.value.onShow()}}catch(t){s=!0,f=t}finally{try{c||null==d.return||d.return()}finally{if(s)throw f}}}else n.style.display="none";var v=!0,y=!1,m=void 0;try{for(var b,g=a[Symbol.iterator]();!(v=(b=g.next()).done);v=!0){var w=b.value;e.state.registerDomChangeListener(w,(function(){if(e.eval(r,n)){n.style.display=i,n.onShow&&n.onShow();var t=!0,o=!1,a=void 0;try{for(var l,u=p.getCustomElements(n)[Symbol.iterator]();!(t=(l=u.next()).done);t=!0){var c=l.value;c.onShow&&c.onShow()}}catch(t){o=!0,a=t}finally{try{t||null==u.return||u.return()}finally{if(o)throw a}}}else n.style.display="none"}))}}catch(t){y=!0,m=t}finally{try{v||null==g.return||g.return()}finally{if(y)throw m}}},c=n.filter((function(t){return Array.from(t.attributes).filter((function(t){var e=t.name;t.value;return e.startsWith("tsf-if")})).length}))[Symbol.iterator]();!(r=(l=c.next()).done);r=!0)u()}catch(t){i=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}var s=!0,f=!1,h=void 0;try{for(var d,v=function(){var t=d.value,n=t.getAttribute("tsf-value").replace("this.","");e.state.registerDomChangeListener(n,(function(e){t.value=e})),e.state.registerJsChangeListener(n,(function(t){e.state[n]=t})),t.oninput=function(r){var o=t.value;""===o||isNaN(o)||(o=Number(o));var i=o;t.value=e.state[n],e.state._jsChange[n](i)}},y=n.filter((function(t){return Array.from(t.attributes).filter((function(t){var e=t.name;t.value;return"tsf-value"===e})).length}))[Symbol.iterator]();!(s=(d=y.next()).done);s=!0)v()}catch(t){f=!0,h=t}finally{try{s||null==y.return||y.return()}finally{if(f)throw h}}var m=!0,b=!1,g=void 0;try{for(var w,_=function(){var t=w.value,n=t.getAttribute("tsf-html"),r=t.getAttribute("tsf-html-render"),i=window;r&&r.startsWith("this.")&&(i=e,r=r.substr(5));var a,l=void 0,u=o(e.eval(n,t,!0),3);a=u[0],l=u[1],u[2],t.innerHTML=r?i[r].call(i,e.eval(n,t)):a;var c=!0,s=!1,f=void 0;try{for(var h,d=l[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=h.value;e.state.registerDomChangeListener(p,(function(){t.innerHTML=r?i[r].call(i,e.eval(n,t)):e.eval(n,t)}))}}catch(t){s=!0,f=t}finally{try{c||null==d.return||d.return()}finally{if(s)throw f}}},E=n.filter((function(t){return Array.from(t.attributes).filter((function(t){var e=t.name;t.value;return"tsf-html"===e})).length}))[Symbol.iterator]();!(m=(w=E.next()).done);m=!0)_()}catch(t){b=!0,g=t}finally{try{m||null==E.return||E.return()}finally{if(b)throw g}}var C=!0,S=!1,N=void 0;try{for(var x,A=function(){var t=x.value,n=Array.from(t.attributes).filter((function(t){var e=t.name;t.value;return e.startsWith("tsf-bind-attribute-")})),r=!0,i=!1,a=void 0;try{for(var l,u=function(){var n,r=l.value,i=r.name.substr(19),a=r.value,u=void 0,c=o(e.eval(a,t,!0),3);n=c[0],u=c[1],c[2],t.setAttribute(i,n);var s=!0,f=!1,h=void 0;try{for(var d,p=u[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var v=d.value;e.state.registerDomChangeListener(v,(function(){t.setAttribute(i,e.eval(a,t))}))}}catch(t){f=!0,h=t}finally{try{s||null==p.return||p.return()}finally{if(f)throw h}}},c=n[Symbol.iterator]();!(r=(l=c.next()).done);r=!0)u()}catch(t){i=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}},T=n.filter((function(t){return Array.from(t.attributes).filter((function(t){var e=t.name;t.value;return e.startsWith("tsf-bind-attribute-")})).length}))[Symbol.iterator]();!(C=(x=T.next()).done);C=!0)A()}catch(t){S=!0,N=t}finally{try{C||null==T.return||T.return()}finally{if(S)throw N}}var k=!0,O=!1,j=void 0;try{for(var L,D=function(){var t=L.value,n=Array.from(t.attributes).filter((function(t){var e=t.name;t.value;return e.startsWith("tsf-bind-boolean-attribute-")})),r=!0,i=!1,a=void 0;try{for(var l,u=function(){var n,r=l.value,i=r.name.substr(27),a=r.value,u=void 0,c=o(e.eval(a,t,!0),3);n=c[0],u=c[1],c[2],n?t.setAttribute(i,null):t.removeAttribute(i);var s=!0,f=!1,h=void 0;try{for(var d,p=u[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var v=d.value;e.state.registerDomChangeListener(v,(function(){e.eval(a,t)?t.setAttribute(i,null):t.removeAttribute(i)}))}}catch(t){f=!0,h=t}finally{try{s||null==p.return||p.return()}finally{if(f)throw h}}},c=n[Symbol.iterator]();!(r=(l=c.next()).done);r=!0)u()}catch(t){i=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}},M=n.filter((function(t){return Array.from(t.attributes).filter((function(t){var e=t.name;t.value;return e.startsWith("tsf-bind-boolean-attribute-")})).length}))[Symbol.iterator]();!(k=(L=M.next()).done);k=!0)D()}catch(t){O=!0,j=t}finally{try{k||null==M.return||M.return()}finally{if(O)throw j}}var P=!0,F=!1,H=void 0;try{for(var W,R=function(){var t=W.value,n=Array.from(t.attributes).filter((function(t){var e=t.name;t.value;return e.startsWith("tsf-bind-class-")})),r=!0,i=!1,a=void 0;try{for(var l,u=function(){var n,r=l.value,i=r.name.substr(15),a=r.value,u=void 0,c=o(e.eval(a,t,!0),3);n=c[0],u=c[1],c[2],n?t.classList.add(i):t.classList.remove(i);var s=!0,f=!1,h=void 0;try{for(var d,p=u[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var v=d.value;e.state.registerDomChangeListener(v,(function(){e.eval(a,t)?t.classList.add(i):t.classList.remove(i)}))}}catch(t){f=!0,h=t}finally{try{s||null==p.return||p.return()}finally{if(f)throw h}}},c=n[Symbol.iterator]();!(r=(l=c.next()).done);r=!0)u()}catch(t){i=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}},I=n.filter((function(t){return Array.from(t.attributes).filter((function(t){var e=t.name;t.value;return e.startsWith("tsf-bind-class-")})).length}))[Symbol.iterator]();!(P=(W=I.next()).done);P=!0)R()}catch(t){F=!0,H=t}finally{try{P||null==I.return||I.return()}finally{if(F)throw H}}var z=!0,B=!1,U=void 0;try{for(var q,J=function(){var t=q.value,n=Array.from(t.attributes).filter((function(t){var e=t.name;t.value;return e.startsWith("tsf-bind-function-")})),r=!0,i=!1,a=void 0;try{for(var l,u=function(){var n=l.value,r=n.name.substr(18),i=n.value,a=/\((.+?)\)/.exec(i);if(a){var u=o(e.eval(a[1],t,!0),3);u[0],u[1],u[2],i=i.replace(a[0],"")}var c=window;i.startsWith("this.")&&(c=e,i=i.substr(5)),t.addEventListener(r,(function(n){a?c[i].call(c,n,e.eval(a[1],t)):c[i].call(c,n)}))},c=n[Symbol.iterator]();!(r=(l=c.next()).done);r=!0)u()}catch(t){i=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}},Z=n.filter((function(t){return Array.from(t.attributes).filter((function(t){var e=t.name;t.value;return e.startsWith("tsf-bind-function-")})).length}))[Symbol.iterator]();!(z=(q=Z.next()).done);z=!0)J()}catch(t){B=!0,U=t}finally{try{z||null==Z.return||Z.return()}finally{if(B)throw U}}var V=!0,X=!1,$=void 0;try{for(var G,K=function(){var t,n=G.value,r=n.getAttribute("tsf-for-of"),i=r.split("of")[0].trim(),a=r.split("of")[1].trim(),l=void 0,u=o(e.eval(a,n,!0),3);t=u[0],l=u[1],u[2];var c=document.createElement("template");for(c.innerHTML=n.innerHTML;n.firstChild;)n.removeChild(n.firstChild);if(t&&t.length>0){for(var s=0;s<t.length;s++){var f=c.content.cloneNode(!0);n.appendChild(f);var h=!0,d=!1,p=void 0;try{for(var v,y=n.querySelectorAll("*")[Symbol.iterator]();!(h=(v=y.next()).done);h=!0){var m=v.value;m[i]=m[i]||[s,t]}}catch(t){d=!0,p=t}finally{try{h||null==y.return||y.return()}finally{if(d)throw p}}}e.attachBindings(n)}var b=!0,g=!1,w=void 0;try{for(var _,E=l[Symbol.iterator]();!(b=(_=E.next()).done);b=!0){var C=_.value;e.state.registerDomChangeListener(C,(function(){for(var t=e.eval(a,n);n.firstChild;)n.removeChild(n.firstChild);for(var r=0;r<t.length;r++){var o=c.content.cloneNode(!0);n.appendChild(o);var l=!0,u=!1,s=void 0;try{for(var f,h=n.querySelectorAll("*")[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var d=f.value;d[i]=d[i]||[r,t]}}catch(t){u=!0,s=t}finally{try{l||null==h.return||h.return()}finally{if(u)throw s}}}e.attachBindings(n)}))}}catch(t){g=!0,w=t}finally{try{b||null==E.return||E.return()}finally{if(g)throw w}}},Q=n.filter((function(t){return Array.from(t.attributes).filter((function(t){var e=t.name;t.value;return"tsf-for-of"===e})).length}))[Symbol.iterator]();!(V=(G=Q.next()).done);V=!0)K()}catch(t){X=!0,$=t}finally{try{V||null==Q.return||Q.return()}finally{if(X)throw $}}}},{key:"mapProperties",value:function(t,e){for(var n=[],r=0,o=Object.keys(t);r<o.length;r++){var i=o[r];e[i]=t[i]}e.nodeName.startsWith("TSF-")&&n.push(e);for(var a=0;a<t.children.length;a++)n.push.apply(n,c(this.mapProperties(t.children[a],e.children[a])));return n}}]),e}(u),m=function(t){for(var e=p.getCustomElements(document),n=0;n<e.length;n++){var r=e[n].nodeName.toLowerCase();if(!document.createElement(r).constructor!==HTMLElement){var o="",i=!0,a=!1,l=void 0;try{for(var u,c=r.substr(3).split("-")[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;o=o+s.charAt(0).toUpperCase()+s.slice(1)}}catch(t){a=!0,l=t}finally{try{i||null==c.return||c.return()}finally{if(a)throw l}}window.customElements.define(r,p.getClass(o))}}},b=function(){if(window.attachEvent)window.attachEvent("onload",m);else if(window.onload){var t=window.onload;window.onload=function(e){t(e),m()}}else window.onload=m}},function(t,e){(function(){"use strict";var t=window.Document.prototype.createElement,e=window.Document.prototype.createElementNS,n=window.Document.prototype.importNode,r=window.Document.prototype.prepend,o=window.Document.prototype.append,i=window.DocumentFragment.prototype.prepend,a=window.DocumentFragment.prototype.append,l=window.Node.prototype.cloneNode,u=window.Node.prototype.appendChild,c=window.Node.prototype.insertBefore,s=window.Node.prototype.removeChild,f=window.Node.prototype.replaceChild,h=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),d=window.Element.prototype.attachShadow,p=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),v=window.Element.prototype.getAttribute,y=window.Element.prototype.setAttribute,m=window.Element.prototype.removeAttribute,b=window.Element.prototype.getAttributeNS,g=window.Element.prototype.setAttributeNS,w=window.Element.prototype.removeAttributeNS,_=window.Element.prototype.insertAdjacentElement,E=window.Element.prototype.insertAdjacentHTML,C=window.Element.prototype.prepend,S=window.Element.prototype.append,N=window.Element.prototype.before,x=window.Element.prototype.after,A=window.Element.prototype.replaceWith,T=window.Element.prototype.remove,k=window.HTMLElement,O=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),j=window.HTMLElement.prototype.insertAdjacentElement,L=window.HTMLElement.prototype.insertAdjacentHTML,D=new Set;function M(t){var e=D.has(t);return t=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t),!e&&t}"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach((function(t){return D.add(t)}));var P=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function F(t){var e=t.isConnected;if(void 0!==e)return e;if(P(t))return!0;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function H(t){var e=t.children;if(e)return Array.prototype.slice.call(e);for(e=[],t=t.firstChild;t;t=t.nextSibling)t.nodeType===Node.ELEMENT_NODE&&e.push(t);return e}function W(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function R(t,e,n){t[e]=n}function I(t){var e=document;this.c=t,this.a=e,this.b=void 0,et(this.c,this.a),"loading"===this.a.readyState&&(this.b=new MutationObserver(this.f.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}))}function z(t){t.b&&t.b.disconnect()}function B(){var t=this;this.b=this.a=void 0,this.c=new Promise((function(e){t.b=e,t.a&&e(t.a)}))}function U(t){if(t.a)throw Error("Already resolved.");t.a=void 0,t.b&&t.b(void 0)}function q(t){this.f=new Map,this.g=new Map,this.l=new Map,this.i=!1,this.b=t,this.j=new Map,this.c=function(t){return t()},this.a=!1,this.h=[],this.m=t.f?new I(t):void 0}function J(t,e){if(!M(e))throw new SyntaxError("The element name '"+e+"' is not valid.");if(X(t,e))throw Error("A custom element with name '"+e+"' has already been defined.");if(t.i)throw Error("A custom element is already being defined.")}function Z(t,e,n){var r;t.i=!0;try{var o=function(t){var e=i[t];if(void 0!==e&&!(e instanceof Function))throw Error("The '"+t+"' callback must be a function.");return e},i=n.prototype;if(!(i instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var a=o("connectedCallback"),l=o("disconnectedCallback"),u=o("adoptedCallback"),c=(r=o("attributeChangedCallback"))&&n.observedAttributes||[]}catch(t){throw t}finally{t.i=!1}return n={localName:e,constructorFunction:n,connectedCallback:a,disconnectedCallback:l,adoptedCallback:u,attributeChangedCallback:r,observedAttributes:c,constructionStack:[]},t.g.set(e,n),t.l.set(n.constructorFunction,n),n}function V(t){if(!1!==t.a){t.a=!1;for(var e=[],n=t.h,r=new Map,o=0;o<n.length;o++)r.set(n[o],[]);for(et(t.b,document,{upgrade:function(n){if(void 0===n.__CE_state){var o=n.localName,i=r.get(o);i?i.push(n):t.g.has(o)&&e.push(n)}}}),o=0;o<e.length;o++)nt(t.b,e[o]);for(o=0;o<n.length;o++){for(var i=n[o],a=r.get(i),l=0;l<a.length;l++)nt(t.b,a[l]);(i=t.j.get(i))&&U(i)}n.length=0}}function X(t,e){var n=t.g.get(e);if(n)return n;if(n=t.f.get(e)){t.f.delete(e);try{return Z(t,e,n())}catch(t){ot(t)}}}function $(){var t=ut&&ut.noDocumentConstructionObserver,e=ut&&ut.shadyDomFastWalk;this.b=[],this.c=[],this.a=!1,this.shadyDomFastWalk=e,this.f=!t}function G(t,e,n,r){var o=window.ShadyDOM;if(t.shadyDomFastWalk&&o&&o.inUse){if(e.nodeType===Node.ELEMENT_NODE&&n(e),e.querySelectorAll)for(t=o.nativeMethods.querySelectorAll.call(e,"*"),e=0;e<t.length;e++)n(t[e])}else!function t(e,n,r){for(var o=e;o;){if(o.nodeType===Node.ELEMENT_NODE){var i=o;n(i);var a=i.localName;if("link"===a&&"import"===i.getAttribute("rel")){if(o=i.import,void 0===r&&(r=new Set),o instanceof Node&&!r.has(o))for(r.add(o),o=o.firstChild;o;o=o.nextSibling)t(o,n,r);o=W(e,i);continue}if("template"===a){o=W(e,i);continue}if(i=i.__CE_shadowRoot)for(i=i.firstChild;i;i=i.nextSibling)t(i,n,r)}o=o.firstChild?o.firstChild:W(e,o)}}(e,n,r)}function K(t,e){t.a&&G(t,e,(function(e){return Q(t,e)}))}function Q(t,e){if(t.a&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.b.length;n++)t.b[n](e);for(n=0;n<t.c.length;n++)t.c[n](e)}}function Y(t,e){var n=[];for(G(t,e,(function(t){return n.push(t)})),e=0;e<n.length;e++){var r=n[e];1===r.__CE_state?t.connectedCallback(r):nt(t,r)}}function tt(t,e){var n=[];for(G(t,e,(function(t){return n.push(t)})),e=0;e<n.length;e++){var r=n[e];1===r.__CE_state&&t.disconnectedCallback(r)}}function et(t,e,n){var r=(n=void 0===n?{}:n).s,o=n.upgrade||function(e){return nt(t,e)},i=[];for(G(t,e,(function(e){if(t.a&&Q(t,e),"link"===e.localName&&"import"===e.getAttribute("rel")){var n=e.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_registry=document.__CE_registry),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:e.addEventListener("load",(function(){var n=e.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var i=new Set;r&&(r.forEach((function(t){return i.add(t)})),i.delete(n)),et(t,n,{s:i,upgrade:o})}}))}else i.push(e)}),r),e=0;e<i.length;e++)o(i[e])}function nt(t,e){try{var n=e.ownerDocument,r=n.__CE_registry,o=r&&(n.defaultView||n.__CE_isImportDocument)?X(r,e.localName):void 0;if(o&&void 0===e.__CE_state){o.constructionStack.push(e);try{try{if(new o.constructorFunction!==e)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{o.constructionStack.pop()}}catch(t){throw e.__CE_state=2,t}if(e.__CE_state=1,e.__CE_definition=o,o.attributeChangedCallback&&e.hasAttributes()){var i=o.observedAttributes;for(o=0;o<i.length;o++){var a=i[o],l=e.getAttribute(a);null!==l&&t.attributeChangedCallback(e,a,null,l,null)}}F(e)&&t.connectedCallback(e)}}catch(t){ot(t)}}function rt(n,r,o,i){var a=r.__CE_registry;if(a&&(null===i||"http://www.w3.org/1999/xhtml"===i)&&(a=X(a,o)))try{var l=new a.constructorFunction;if(void 0===l.__CE_state||void 0===l.__CE_definition)throw Error("Failed to construct '"+o+"': The returned value was not constructed with the HTMLElement constructor.");if("http://www.w3.org/1999/xhtml"!==l.namespaceURI)throw Error("Failed to construct '"+o+"': The constructed element's namespace must be the HTML namespace.");if(l.hasAttributes())throw Error("Failed to construct '"+o+"': The constructed element must not have any attributes.");if(null!==l.firstChild)throw Error("Failed to construct '"+o+"': The constructed element must not have any children.");if(null!==l.parentNode)throw Error("Failed to construct '"+o+"': The constructed element must not have a parent node.");if(l.ownerDocument!==r)throw Error("Failed to construct '"+o+"': The constructed element's owner document is incorrect.");if(l.localName!==o)throw Error("Failed to construct '"+o+"': The constructed element's local name is incorrect.");return l}catch(a){return ot(a),r=null===i?t.call(r,o):e.call(r,i,o),Object.setPrototypeOf(r,HTMLUnknownElement.prototype),r.__CE_state=2,r.__CE_definition=void 0,Q(n,r),r}return Q(n,r=null===i?t.call(r,o):e.call(r,i,o)),r}function ot(t){var e=t.message,n=t.sourceURL||t.fileName||"",r=t.line||t.lineNumber||0,o=t.column||t.columnNumber||0,i=void 0;void 0===ErrorEvent.prototype.initErrorEvent?i=new ErrorEvent("error",{cancelable:!0,message:e,filename:n,lineno:r,colno:o,error:t}):((i=document.createEvent("ErrorEvent")).initErrorEvent("error",!1,!0,e,n,r),i.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),void 0===i.error&&Object.defineProperty(i,"error",{configurable:!0,enumerable:!0,get:function(){return t}}),window.dispatchEvent(i),i.defaultPrevented||console.error(t)}I.prototype.f=function(t){var e=this.a.readyState;for("interactive"!==e&&"complete"!==e||z(this),e=0;e<t.length;e++)for(var n=t[e].addedNodes,r=0;r<n.length;r++)et(this.c,n[r])},q.prototype.o=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");J(this,t),this.f.set(t,e),this.h.push(t),this.a||(this.a=!0,this.c((function(){return V(n)})))},q.prototype.define=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");J(this,t),Z(this,t,e),this.h.push(t),this.a||(this.a=!0,this.c((function(){return V(n)})))},q.prototype.upgrade=function(t){et(this.b,t)},q.prototype.get=function(t){if(t=X(this,t))return t.constructorFunction},q.prototype.whenDefined=function(t){if(!M(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this.j.get(t);if(e)return e.c;e=new B,this.j.set(t,e);var n=this.g.has(t)||this.f.has(t);return t=-1===this.h.indexOf(t),n&&t&&U(e),e.c},q.prototype.polyfillWrapFlushCallback=function(t){this.m&&z(this.m);var e=this.c;this.c=function(n){return t((function(){return e(n)}))}},window.CustomElementRegistry=q,q.prototype.define=q.prototype.define,q.prototype.upgrade=q.prototype.upgrade,q.prototype.get=q.prototype.get,q.prototype.whenDefined=q.prototype.whenDefined,q.prototype.polyfillDefineLazy=q.prototype.o,q.prototype.polyfillWrapFlushCallback=q.prototype.polyfillWrapFlushCallback,$.prototype.connectedCallback=function(t){var e=t.__CE_definition;if(e.connectedCallback)try{e.connectedCallback.call(t)}catch(t){ot(t)}},$.prototype.disconnectedCallback=function(t){var e=t.__CE_definition;if(e.disconnectedCallback)try{e.disconnectedCallback.call(t)}catch(t){ot(t)}},$.prototype.attributeChangedCallback=function(t,e,n,r,o){var i=t.__CE_definition;if(i.attributeChangedCallback&&-1<i.observedAttributes.indexOf(e))try{i.attributeChangedCallback.call(t,e,n,r,o)}catch(t){ot(t)}};var it=new function(){};function at(t,e,n){function r(e){return function(n){for(var r=[],o=0;o<arguments.length;++o)r[o]=arguments[o];o=[];for(var i=[],a=0;a<r.length;a++){var l=r[a];if(l instanceof Element&&F(l)&&i.push(l),l instanceof DocumentFragment)for(l=l.firstChild;l;l=l.nextSibling)o.push(l);else o.push(l)}for(e.apply(this,r),r=0;r<i.length;r++)tt(t,i[r]);if(F(this))for(r=0;r<o.length;r++)(i=o[r])instanceof Element&&Y(t,i)}}void 0!==n.prepend&&R(e,"prepend",r(n.prepend)),void 0!==n.append&&R(e,"append",r(n.append))}function lt(t){function n(e,n){Object.defineProperty(e,"innerHTML",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){var r=this,o=void 0;if(F(this)&&(o=[],G(t,this,(function(t){t!==r&&o.push(t)}))),n.set.call(this,e),o)for(var i=0;i<o.length;i++){var a=o[i];1===a.__CE_state&&t.disconnectedCallback(a)}return this.ownerDocument.__CE_registry?et(t,this):K(t,this),e}})}function r(e,n){R(e,"insertAdjacentElement",(function(e,r){var o=F(r);return e=n.call(this,e,r),o&&tt(t,r),F(e)&&Y(t,r),e}))}function o(e,n){function r(e,n){for(var r=[];e!==n;e=e.nextSibling)r.push(e);for(n=0;n<r.length;n++)et(t,r[n])}R(e,"insertAdjacentHTML",(function(t,e){if("beforebegin"===(t=t.toLowerCase())){var o=this.previousSibling;n.call(this,t,e),r(o||this.parentNode.firstChild,this)}else if("afterbegin"===t)o=this.firstChild,n.call(this,t,e),r(this.firstChild,o);else if("beforeend"===t)o=this.lastChild,n.call(this,t,e),r(o||this.firstChild,null);else{if("afterend"!==t)throw new SyntaxError("The value provided ("+String(t)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");o=this.nextSibling,n.call(this,t,e),r(this.nextSibling,o)}}))}d&&R(Element.prototype,"attachShadow",(function(e){if(e=d.call(this,e),t.a&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.b.length;n++)t.b[n](e)}return this.__CE_shadowRoot=e})),p&&p.get?n(Element.prototype,p):O&&O.get?n(HTMLElement.prototype,O):function(t,e){t.a=!0,t.c.push(e)}(t,(function(t){n(t,{enumerable:!0,configurable:!0,get:function(){return l.call(this,!0).innerHTML},set:function(t){var n="template"===this.localName,r=n?this.content:this,o=e.call(document,this.namespaceURI,this.localName);for(o.innerHTML=t;0<r.childNodes.length;)s.call(r,r.childNodes[0]);for(t=n?o.content:o;0<t.childNodes.length;)u.call(r,t.childNodes[0])}})})),R(Element.prototype,"setAttribute",(function(e,n){if(1!==this.__CE_state)return y.call(this,e,n);var r=v.call(this,e);y.call(this,e,n),n=v.call(this,e),t.attributeChangedCallback(this,e,r,n,null)})),R(Element.prototype,"setAttributeNS",(function(e,n,r){if(1!==this.__CE_state)return g.call(this,e,n,r);var o=b.call(this,e,n);g.call(this,e,n,r),r=b.call(this,e,n),t.attributeChangedCallback(this,n,o,r,e)})),R(Element.prototype,"removeAttribute",(function(e){if(1!==this.__CE_state)return m.call(this,e);var n=v.call(this,e);m.call(this,e),null!==n&&t.attributeChangedCallback(this,e,n,null,null)})),R(Element.prototype,"removeAttributeNS",(function(e,n){if(1!==this.__CE_state)return w.call(this,e,n);var r=b.call(this,e,n);w.call(this,e,n);var o=b.call(this,e,n);r!==o&&t.attributeChangedCallback(this,n,r,o,e)})),j?r(HTMLElement.prototype,j):_&&r(Element.prototype,_),L?o(HTMLElement.prototype,L):E&&o(Element.prototype,E),at(t,Element.prototype,{prepend:C,append:S}),function(t){function e(e){return function(n){for(var r=[],o=0;o<arguments.length;++o)r[o]=arguments[o];o=[];for(var i=[],a=0;a<r.length;a++){var l=r[a];if(l instanceof Element&&F(l)&&i.push(l),l instanceof DocumentFragment)for(l=l.firstChild;l;l=l.nextSibling)o.push(l);else o.push(l)}for(e.apply(this,r),r=0;r<i.length;r++)tt(t,i[r]);if(F(this))for(r=0;r<o.length;r++)(i=o[r])instanceof Element&&Y(t,i)}}var n=Element.prototype;void 0!==N&&R(n,"before",e(N)),void 0!==x&&R(n,"after",e(x)),void 0!==A&&R(n,"replaceWith",(function(e){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];r=[];for(var o=[],i=0;i<n.length;i++){var a=n[i];if(a instanceof Element&&F(a)&&o.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)r.push(a);else r.push(a)}for(i=F(this),A.apply(this,n),n=0;n<o.length;n++)tt(t,o[n]);if(i)for(tt(t,this),n=0;n<r.length;n++)(o=r[n])instanceof Element&&Y(t,o)})),void 0!==T&&R(n,"remove",(function(){var e=F(this);T.call(this),e&&tt(t,this)}))}(t)}var ut=window.customElements;function ct(){var e=new $;!function(e){window.HTMLElement=function(){function n(){var n=this.constructor,r=document.__CE_registry.l.get(n);if(!r)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var o=r.constructionStack;if(0===o.length)return o=t.call(document,r.localName),Object.setPrototypeOf(o,n.prototype),o.__CE_state=1,o.__CE_definition=r,Q(e,o),o;var i=o.length-1,a=o[i];if(a===it)throw Error("Failed to construct '"+r.localName+"': This element was already constructed.");return o[i]=it,Object.setPrototypeOf(a,n.prototype),Q(e,a),a}return n.prototype=k.prototype,Object.defineProperty(n.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:n}),n}()}(e),function(t){R(Document.prototype,"createElement",(function(e){return rt(t,this,e,null)})),R(Document.prototype,"importNode",(function(e,r){return e=n.call(this,e,!!r),this.__CE_registry?et(t,e):K(t,e),e})),R(Document.prototype,"createElementNS",(function(e,n){return rt(t,this,n,e)})),at(t,Document.prototype,{prepend:r,append:o})}(e),at(e,DocumentFragment.prototype,{prepend:i,append:a}),function(t){function e(e,n){Object.defineProperty(e,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,e);else{var r=void 0;if(this.firstChild){var o=this.childNodes,i=o.length;if(0<i&&F(this)){r=Array(i);for(var a=0;a<i;a++)r[a]=o[a]}}if(n.set.call(this,e),r)for(e=0;e<r.length;e++)tt(t,r[e])}}})}R(Node.prototype,"insertBefore",(function(e,n){if(e instanceof DocumentFragment){var r=H(e);if(e=c.call(this,e,n),F(this))for(n=0;n<r.length;n++)Y(t,r[n]);return e}return r=e instanceof Element&&F(e),n=c.call(this,e,n),r&&tt(t,e),F(this)&&Y(t,e),n})),R(Node.prototype,"appendChild",(function(e){if(e instanceof DocumentFragment){var n=H(e);if(e=u.call(this,e),F(this))for(var r=0;r<n.length;r++)Y(t,n[r]);return e}return n=e instanceof Element&&F(e),r=u.call(this,e),n&&tt(t,e),F(this)&&Y(t,e),r})),R(Node.prototype,"cloneNode",(function(e){return e=l.call(this,!!e),this.ownerDocument.__CE_registry?et(t,e):K(t,e),e})),R(Node.prototype,"removeChild",(function(e){var n=e instanceof Element&&F(e),r=s.call(this,e);return n&&tt(t,e),r})),R(Node.prototype,"replaceChild",(function(e,n){if(e instanceof DocumentFragment){var r=H(e);if(e=f.call(this,e,n),F(this))for(tt(t,n),n=0;n<r.length;n++)Y(t,r[n]);return e}r=e instanceof Element&&F(e);var o=f.call(this,e,n),i=F(this);return i&&tt(t,n),r&&tt(t,e),i&&Y(t,e),o})),h&&h.get?e(Node.prototype,h):function(t,e){t.a=!0,t.b.push(e)}(t,(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=this.firstChild;e;e=e.nextSibling)e.nodeType!==Node.COMMENT_NODE&&t.push(e.textContent);return t.join("")},set:function(t){for(;this.firstChild;)s.call(this,this.firstChild);null!=t&&""!==t&&u.call(this,document.createTextNode(t))}})}))}(e),lt(e),e=new q(e),document.__CE_registry=e,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:e})}ut&&!ut.forcePolyfill&&"function"==typeof ut.define&&"function"==typeof ut.get||ct(),window.__CE_installPolyfill=ct}).call(self)}])}));